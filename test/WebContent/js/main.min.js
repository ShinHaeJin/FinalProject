var s,app={settings:{fadeSlides:!1,coloursSet:!1,animationTimeDelay:350,videoFadeInWait:2500,textFadeSpeed:2e3},init:function(){s=this.settings,this.initalizers(),this.bindUiActions(),this.bigVideo(),this.editNavigation(),this.animateSlides(),this.mailChimpAjax(),this.settingOptions()},bindUiActions:function(){$(".take-a-look").on("click",function(){$(".onepage-pagination li:nth-child(2)").children().trigger("click")})},initalizers:function(){$(".slide").css("opacity",1),$(".main").onepage_scroll({sectionContainer:"section"}),setTimeout(function(){$("#big-video-wrap").show().animate({opacity:1})},s.videoFadeInWait),$(".demo1 .rotate").textrotator({animation:"fade",speed:s.textFadeSpeed})},bigVideo:function(){var a=new $.BigVideo({useFlashForFirefox:!1});a.init(),Modernizr.touch?a.show("img/background.jpg"):a.show("video/surf.mp4",{ambient:!0,doLoop:!0,altSource:"video/surf.ogv"})},editNavigation:function(){$(".onepage-pagination").addClass("animated fadeInRight delay-3"),$(".onepage-pagination").children().each(function(){switch($(this).children().data("index")){case 1:$(this).children().append("<i class='entypo-home'></i>");break;case 2:$(this).children().append("<i class='entypo-dot'></i>");break;case 3:$(this).children().append("<i class='entypo-dot-2'></i>");break;case 4:$(this).children().append("<i class='entypo-dot-3'></i>");break;case 5:$(this).children().append("<i class='entypo-mail'></i>")}})},animateSlides:function(){setInterval(function(){$("body").hasClass("viewing-page-2")&&($(".slide-1-title").removeClass("hide").addClass("animated fadeInRight delay-1"),$(".slide-1-1").removeClass("hide").addClass("animated fadeInRight delay-3"),$(".iphone-1").removeClass("hide").addClass("animated fadeInUp delay-3"),$(".slide-1-2").removeClass("hide").addClass("animated fadeInDown delay-5"),$(".slide-1-3").removeClass("hide").addClass("animated fadeInDown delay-6"),$(".slide-1-scroll").removeClass("hide").addClass("animated fadeInDown delay-12"),$(".icon span").css("color","#fff"),1==s.fadeSlides&&$(".slide-1").css("background-color","#1ABC9C")),$("body").hasClass("viewing-page-3")&&($(".iphone-2").removeClass("hide").addClass("animated fadeInDown delay-1"),$(".slide-2-title").removeClass("hide").addClass("animated fadeIn delay-3"),$(".slide-2-1").removeClass("hide").addClass("animated fadeIn delay-4"),$(".slide-2-2").removeClass("hide").addClass("animated fadeInDown delay-5"),$(".slide-2-3").removeClass("hide").addClass("animated fadeInDown delay-6"),$(".slide-2-4").removeClass("hide").addClass("animated fadeInDown delay-9"),$(".slide-2-5").removeClass("hide").addClass("animated fadeInDown delay-10"),$(".slide-2-6").removeClass("hide").addClass("animated fadeInDown delay-11"),$(".slide-2-scroll").removeClass("hide").addClass("animated fadeInDown delay-15"),$(".icon span").css("color","#fff"),1==s.fadeSlides&&$(".slide-2").css("background-color","#34495e")),$("body").hasClass("viewing-page-4")&&($(".slide-3-title").removeClass("hide").addClass("animated fadeInLeft delay-1"),$(".slide-3-1").removeClass("hide").addClass("animated fadeInLeft delay-3"),$(".iphone-3").removeClass("hide").addClass("animated fadeInUp delay-3"),$(".slide-3-2").removeClass("hide").addClass("animated fadeInDown delay-5"),$(".slide-3-3").removeClass("hide").addClass("animated fadeInDown delay-6"),$(".slide-3-scroll").removeClass("hide").addClass("animated fadeInDown delay-12"),$(".icon span").css("color","#333"),s.fadeSlides===!0&&$(".slide-3").css("background","#f1c40f")),$("body").hasClass("viewing-page-5")&&$(".icon span").css("color","#fff"),1==s.fadeSlides&&0==s.coloursSet&&($(".slide-1").css("background","#e74c3c"),$(".slide-2").css("background","#1ABC9C"),$(".slide-3").css("background","#34495e"),s.coloursSet=!0)},s.animationTimeDelay)},settingOptions:function(){$(".settings-icon").on("click",function(){$(this).parent().toggleClass("open")}),$(".toggle-video").on("click",function(){$("#big-video-wrap").toggleClass("hide-video")}),$(".toggle-opacity-first").on("click",function(){$(".home").toggleClass("full-color")}),$(".toggle-opacity-all").on("click",function(){$(".home").toggleClass("full-color"),$(".slide-1").toggleClass("full-color"),$(".slide-2").toggleClass("full-color"),$(".slide-3").toggleClass("full-color"),$(".contact").toggleClass("full-color")}),$(".toggle-phone").on("click",function(){$(".home-phone").toggleClass("hide animated fadeIn"),$(".home-copy").toggleClass("col-sm-8 col-sm-offset-2 col-sm-6")}),$(".toggle-slide-fade").on("click",function(){s.fadeSlides===!1?s.fadeSlides=!0:s.fadeSlides===!0&&(s.fadeSlides=!1),$(".slide-1").toggleClass("fade-background"),$(".slide-2").toggleClass("fade-background"),$(".slide-3").toggleClass("fade-background")})},mailChimpAjax:function(){var a=this,b=$("#mc-embedded-subscribe-form");$('#mc-embedded-subscribe-form button[type="submit"]').bind("click",function(c){c.preventDefault(),a.register(b)})},register:function(a){var b=a.parent().siblings(".sign-up-message");$.ajax({type:a.attr("method"),url:a.attr("action"),data:a.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",error:function(a){console.log(" Could not connect to the registration server. Please try again later. ",a),b.text("There was an error submitting your email, please try again").removeClass("hidden").addClass(" error animated fadeInDown")},success:function(a){console.log("success"),"success"!=a.result?b.text("There was an error submitting your email, please try again").removeClass("hidden").addClass(" error animated fadeInDown"):(b.html("Thank you. Your email was successfully submitted"),b.removeClass("hidden").addClass(" animated fadeInDown"))}})}};$(document).ready(function(){app.init()});